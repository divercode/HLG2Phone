<h2>Sony HLG 视频转码工具 - 使用说明</h2>

<h3>基本功能</h3>
<p>本工具用于将 Sony HLG (10-bit 4:2:2) 视频转换为手机可播放的格式：</p>
<ul>
<li>支持 H.265 (HEVC) 和 H.264 (AVC) 编码格式</li>
<li>自动进行色度子采样转换（4:2:2 → 4:2:0）</li>
<li>保留 HLG 元数据，无需颜色分级</li>
<li>添加 hvc1 标签以提高 iPhone 兼容性</li>
</ul>

<h3>输入设置</h3>
<ul>
<li><b>输入文件/文件夹</b>：选择要转码的视频文件或包含视频文件的文件夹</li>
<li><b>递归搜索子文件夹</b>：勾选后会在子文件夹中搜索视频文件</li>
<li>支持的格式：.mov, .mp4, .mxf, .m4v</li>
</ul>

<h3>输出设置</h3>
<ul>
<li><b>输出文件夹</b>：选择转码后视频的保存位置</li>
<li><b>覆盖已存在文件</b>：如果输出文件已存在，是否覆盖</li>
<li><b>跳过已存在文件</b>：如果输出文件已存在，是否跳过（推荐）</li>
<li><b>保留原始文件名</b>：使用原始文件名，添加后缀</li>
<li><b>自定义文件名</b>：使用自定义文件名（与保留原始文件名互斥）</li>
<li><b>添加时间戳</b>：在文件名中添加时间戳</li>
<li><b>自定义后缀</b>：自定义文件名后缀（默认：_hlg_phone）</li>
</ul>

<h3>转码设置</h3>
<ul>
<li><b>编码格式</b>：选择 H.265 (HEVC) 或 H.264 (AVC)</li>
<li><b>视频质量 (CRF)</b>：0-51，数值越小质量越高（推荐：18-23）</li>
<li><b>编码预设</b>：编码速度和质量平衡（推荐：medium）</li>
<li><b>帧率 (FPS)</b>：目标帧率，或勾选"保持原始帧率"</li>
<li><b>音频比特率</b>：音频编码比特率（推荐：192k）</li>
</ul>

<h3>GPU 加速</h3>
<ul>
<li><b>启用GPU加速</b>：使用硬件编码器加速转码</li>
<li>支持的GPU：NVIDIA (NVENC)、Intel (QSV)、AMD (AMF)</li>
<li>系统会自动检测并选择最佳GPU编码器</li>
<li>如果GPU编码失败，会自动回退到CPU编码</li>
<li>系统会记住上次成功使用的GPU编码器</li>
</ul>

<h3>并行处理</h3>
<ul>
<li><b>并行线程数</b>：同时处理的视频文件数量</li>
<li>建议根据CPU核心数设置（例如：4核CPU设置为4）</li>
<li>注意：每个线程会占用一定的CPU和内存资源</li>
</ul>

<h3>任务队列</h3>
<ul>
<li>可以添加多个转码任务到队列中</li>
<li>任务会按顺序执行</li>
<li>可以暂停、继续或停止队列执行</li>
</ul>

<h3>注意事项</h3>
<ul>
<li>确保已安装 ffmpeg（程序已包含，无需单独安装）</li>
<li>转码大文件时可能需要较长时间，请耐心等待</li>
<li>建议在转码前使用"模拟运行"模式预览命令</li>
<li>配置文件会自动保存，下次启动时会恢复设置</li>
</ul>

<h3>常见问题</h3>
<ul>
<li><b>Q: GPU加速不工作？</b><br>
A: 检查GPU驱动是否已安装，或尝试禁用GPU加速使用CPU编码</li>
<li><b>Q: 转码速度慢？</b><br>
A: 尝试启用GPU加速，或降低编码预设（使用faster）</li>
<li><b>Q: 输出文件无法播放？</b><br>
A: 检查输出文件是否完整，或尝试使用不同的编码格式</li>
</ul>

